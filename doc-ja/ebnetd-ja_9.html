<HTML>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- Created on December, 28  2003 by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HEAD>
<TITLE>ebNETD: Terminate and Restart</TITLE>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<META NAME="description" CONTENT="ebNETD: Terminate and Restart">
<META NAME="keywords" CONTENT="ebNETD: Terminate and Restart">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">

</HEAD>

<BODY LANG="EN" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<A NAME="SEC45"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="ebnetd-ja_8.html#SEC44"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="ebnetd-ja_9.html#SEC46"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="ebnetd-ja_8.html#SEC39"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="ebnetd-ja.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="ebnetd-ja_10.html#SEC48"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="ebnetd-ja.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="ebnetd-ja_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="ebnetd-ja_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H1> 9. サーバの終了および再始動 </H1>
<!--docid::SEC45::-->
<P>

<CODE>ebncontrol</CODE> コマンドを用いることで、現在スタンドアロンのデーモン
として走っている <CODE>ebnetd</CODE> プロセスを終了させたり、強制終了、再始動
させたりすることができます。
EBNETD を <TT>`/usr/local'</TT> 以下にインストールし、かつ、システム管理用の
コマンドを置くディレクトリ (<CODE>sbindir</CODE>) の位置を変更していなければ、
<CODE>ebncontrol</CODE> は <TT>`/usr/local/sbin'</TT> にインストールされています。
走行中の <CODE>ebnetd</CODE> を終了させるには次のようにします。
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>% /usr/local/sbin/ebncontrol terminate
</pre></td></tr></table></P><P>

<CODE>ebnetd</CODE> は自身の PID を作業用ディレクトリの下のファイル 
<TT>`ebnetd.pid'</TT> に記録します
(「<A HREF="ebnetd-ja_5.html#SEC24">作業ディレクトリ</A>」節を参照)。
<CODE>ebncontrol</CODE> は、走行中の <CODE>ebnetd</CODE> プロセスの PID を知るために
この PID ファイルの中身を読み、その PID に対してシグナルを送ります。
</P><P>

<CODE>ebnetd</CODE> が正常に終了すれば、PID ファイルは <CODE>ebnetd</CODE> 自身に
よって削除されます。
しかしながら、<CODE>ebnetd</CODE> が異常終了したときは、PID ファイルは削除
されません。
この場合、残された PID ファイルに記述された PID は、後で他のプロセスに
割り当てられる可能性があります。
<CODE>ebncontrol</CODE> の実行は慎重に行って下さい。
<CODE>ebncontrol</CODE> は、本当に <CODE>ebnetd</CODE> プロセスが存在するかどうかに
ついては、確かめません。
<CODE>ebnetd</CODE> プロセスが存在しないのに PID ファイルだけ残っていると、
<CODE>ebncontrol</CODE> は他のプロセスにシグナルを送ってしまうかも知れません。
</P><P>

<CODE>ebncontrol</CODE> は <CODE>ebnetd</CODE> の設定ファイルを読み込み、作業用
ディレクトリの位置を調べます。
ディレクトリの位置は、設定ファイル中の単独指示子 <CODE>work-path</CODE>
で定義することができます (「<A HREF="ebnetd-ja_3.html#SEC14"><CODE>work-path</CODE></A>」節を参照)。
無指定時の設定ファイルのファイル名、および単独指示子 <CODE>work-path</CODE>
の値は <CODE>ebnetd</CODE> と同じです。
</P><P>

また、<CODE>ndtpd</CODE> および <CODE>ebhttpd</CODE> のために <CODE>ndtpcontrol</CODE>,
<CODE>ebhtcontrol</CODE> がそれぞれ用意されています。
使用方法は、<CODE>ebncontrol</CODE> と同じです。
</P><P>

<BLOCKQUOTE><TABLE BORDER=0 CELLSPACING=0> 
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="ebnetd-ja_9.html#SEC46">9.1 サーバ制御コマンドの実行</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP"></TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="ebnetd-ja_9.html#SEC47">9.2 <CODE>ebncontrol</CODE> のオプション</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">サーバ制御コマンドのオプション</TD></TR>
</TABLE></BLOCKQUOTE>
<P>

<A NAME="Invoke Server Controler"></A>
<HR SIZE="6">
<A NAME="SEC46"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="ebnetd-ja_9.html#SEC45"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="ebnetd-ja_9.html#SEC47"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="ebnetd-ja_9.html#SEC45"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="ebnetd-ja_9.html#SEC45"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="ebnetd-ja_10.html#SEC48"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="ebnetd-ja.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="ebnetd-ja_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="ebnetd-ja_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> 9.1 サーバ制御コマンドの実行 </H2>
<!--docid::SEC46::-->
<P>

前述のように、<CODE>ebncontrol</CODE>, <CODE>ndtpcontrol</CODE>, <CODE>ebhtcontrol</CODE>
は、すべて同じコマンド行引数をとるようになっています。
これらのコマンドの一般的な実行方法は、次の通りです。
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>% /usr/local/sbin/ebncontrol <VAR>副コマンド</VAR>
% /usr/local/sbin/ndtpcontrol <VAR>副コマンド</VAR>
% /usr/local/sbin/ebhtcontrol <VAR>副コマンド</VAR>
</pre></td></tr></table></P><P>

副コマンドは、以下のものを解釈することができます。
副コマンド名が一意に決まる範囲内で、名前の後方部分を省略することが
できます。
</P><P>

<DL COMPACT>
<DT><CODE>kill</CODE>
<DD>現在走っているサーバプロセスを強制終了させます (<CODE>SIGKILL</CODE> シグナル
を送ります)。
また、サーバ制御コマンドが、サーバプロセスの PID ファイルを消去します。
この副コマンドを試す前に、まず <CODE>terminate</CODE> を先に試すべきです。
<P>

<DT><CODE>restart</CODE>
<DD>現在走っているサーバプロセスを再始動させます
(<CODE>SIGHUP</CODE> シグナルを送ります)。
サーバプロセスはすべての TCP コネクションを閉じ、設定ファイルを
読み込み直します。
<P>

<DT><CODE>status</CODE>
<DD>サーバプロセスが走っているかどうか調べ、結果を標準エラー出力に出力します。
この副コマンドは、サーバにシグナルを送ることはしません。
<P>

<DT><CODE>terminate</CODE>
<DD>現在走っている サーバプロセスを終了させます
(<CODE>SIGTERM</CODE> シグナルを送ります)。
</DL>
<P>

<A NAME="ebncontrol Options"></A>
<HR SIZE="6">
<A NAME="SEC47"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="ebnetd-ja_9.html#SEC46"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="ebnetd-ja_10.html#SEC48"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="ebnetd-ja_9.html#SEC45"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="ebnetd-ja_9.html#SEC45"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="ebnetd-ja_10.html#SEC48"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="ebnetd-ja.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="ebnetd-ja_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="ebnetd-ja_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> 9.2 <CODE>ebncontrol</CODE> のオプション </H2>
<!--docid::SEC47::-->
<P>

<CODE>ebncontrol</CODE>, <CODE>ndtpcontrol</CODE>, <CODE>ebhtcontrol</CODE> コマンドは、
伝統的な一文字オプション名と覚えやすい長いオプション名の両方を扱うこと
ができます。
長いオプション名を表すには、<SAMP>`-'</SAMP> ではなく <SAMP>`--'</SAMP> を用います。
オプション名が一意に決まる範囲内で、名前の後方部分を省略することが
できます。
</P><P>

<CODE>ebncontrol</CODE>, <CODE>ndtpcontrol</CODE>, <CODE>ebhtcontrol</CODE> は以下に挙げた
オプションを解釈することができます。
</P><P>

<DL COMPACT>
<DT><CODE>-c <VAR>ファイル</VAR></CODE>
<DD><DT><CODE>--configuration-file <VAR>ファイル</VAR></CODE>
<DD>設定ファイルを指定します。
無指定時のファイル名は、ヘルプメッセージの中に記されています。
<P>

<DT><CODE>-h</CODE>
<DD><DT><CODE>--help</CODE>
<DD>ヘルプメッセージを標準出力に出力して、終了します。
<P>

<DT><CODE>-v</CODE>
<DD><DT><CODE>--version</CODE>
<DD>バージョン番号を標準出力に出力して、終了します。
</DL>
<P>

<A NAME="Daily Works"></A>
<HR SIZE="6">
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="ebnetd-ja_9.html#SEC45"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="ebnetd-ja_10.html#SEC48"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="ebnetd-ja.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="ebnetd-ja_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="ebnetd-ja_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<BR>  
<FONT SIZE="-1">
This document was generated
by <I>Motoyuki Kasahara</I> on <I>December, 28  2003</I>
using <A HREF="http://www.mathematik.uni-kl.de/~obachman/Texi2html
"><I>texi2html</I></A>

</BODY>
</HTML>
